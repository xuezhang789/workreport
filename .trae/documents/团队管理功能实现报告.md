# 团队管理功能开发计划

## 1. 数据库设计 (已完成)
- **Team**: 团队基本信息 (name, description)
- **TeamMember**: 用户与团队关联 (role: admin/member)
- **TeamInvitation**: 邀请链接管理 (token, expires_at)
- **Project**: 添加 `team` 关联字段

## 2. 后端开发 (已完成)
- **Models**: 定义并迁移了上述模型
- **Views**: 实现了 `reports/views_teams.py`
    - 团队 CRUD
    - 成员管理 (移除)
    - 邀请链接生成与加入
    - 项目关联与权限同步
- **Permissions**: 更新了 `has_project_manage_permission`，确保团队管理员自动拥有项目管理权限

## 3. 前端实现 (已完成)
- **Templates**: 创建了 `templates/reports/teams/` 目录下的所有页面
    - 列表页、详情页、创建/编辑页、邀请页
- **Navigation**: 在顶部导航栏添加了 "我的团队" 入口

## 4. 测试与验证 (已完成)
- **Unit Tests**: 创建 `reports/tests/test_teams.py`，覆盖了模型、视图和权限逻辑
- **Manual Verification**: 验证了通过邀请链接加入团队、项目关联等核心流程

## 下一步建议
- 可以进一步完善团队成员的角色细分（如添加 "观察者" 角色）
- 在团队详情页添加更多统计图表（如团队整体日报提交率）
