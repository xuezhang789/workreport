<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>å›¢é˜Ÿåœ¨çº¿æ—¥æŠ¥ç³»ç»Ÿ / Team Online Daily Report System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        :root {
            --bg: #f5f6fb;
            --card-bg: #ffffff;
            --primary: #2563eb;
            --primary-soft: #e0ecff;
            --text-main: #111827;
            --text-sub: #6b7280;
            --border: #e5e7eb;
            --danger: #ef4444;
            --radius-lg: 16px;
            --radius-md: 10px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
                "Segoe UI", Roboto, "Helvetica Neue", Arial, "PingFang SC",
                "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: radial-gradient(circle at top, #e0ecff 0, #f5f6fb 40%, #f9fafb 100%);
            color: var(--text-main);
        }

        .page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            background: rgba(248, 250, 252, 0.85);
            border-bottom: 1px solid rgba(229, 231, 235, 0.8);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        header .title {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        header .title-badge {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 999px;
            background: var(--primary-soft);
            color: var(--primary);
        }

        header .subtitle {
            font-size: 12px;
            color: var(--text-sub);
        }

        main {
            flex: 1;
            padding: 16px 24px 24px;
        }

        .layout {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
            gap: 20px;
        }

        @media (max-width: 960px) {
            main {
                padding: 12px 12px 20px;
            }
            header {
                padding: 10px 12px;
                flex-direction: column;
                align-items: flex-start;
                gap: 4px;
            }
            .layout {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 16px 18px;
            box-shadow: 0 18px 45px rgba(15, 23, 42, 0.09);
            border: 1px solid rgba(226, 232, 240, 0.9);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 12px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .card-title span.icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 999px;
            background: var(--primary-soft);
            color: var(--primary);
            font-size: 12px;
        }

        .card-subtitle {
            font-size: 12px;
            color: var(--text-sub);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 12px;
            margin-bottom: 12px;
        }

        @media (max-width: 720px) {
            .form-grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        label {
            font-size: 13px;
            font-weight: 500;
            color: #374151;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        label .required {
            color: var(--danger);
        }

        input, select, textarea {
            width: 100%;
            margin-top: 4px;
            border-radius: 999px;
            border: 1px solid var(--border);
            padding: 8px 11px;
            font-size: 13px;
            outline: none;
            background: #f9fafb;
            transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
        }

        textarea {
            border-radius: var(--radius-md);
            min-height: 70px;
            resize: vertical;
            font-family: inherit;
            line-height: 1.5;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.25);
            background: #ffffff;
        }

        .section {
            margin-bottom: 14px;
        }

        .section-heading {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #111827;
        }

        .section-hint {
            font-size: 11px;
            color: var(--text-sub);
        }

        .role-hints {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            font-size: 11px;
            color: var(--text-sub);
        }

        .role-hints span {
            padding: 2px 8px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.03);
            border: 1px dashed rgba(148, 163, 184, 0.7);
        }

        .btn-row {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 10px;
        }

        button {
            border-radius: 999px;
            border: none;
            cursor: pointer;
            font-size: 13px;
            padding: 8px 14px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
            transition: transform 0.08s ease, box-shadow 0.08s ease, background-color 0.15s ease;
        }

        button:active {
            transform: translateY(1px);
            box-shadow: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: #ffffff;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.35);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #374151;
        }

        .btn-ghost {
            background: transparent;
            color: #4b5563;
        }

        .preview-area {
            background: #020617;
            color: #e5e7eb;
            border-radius: var(--radius-lg);
            padding: 12px 14px;
            font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 12px;
            line-height: 1.5;
            max-height: 520px;
            overflow: auto;
            border: 1px solid rgba(15, 23, 42, 0.7);
        }

        .preview-area pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .pill-badge {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            background: rgba(15, 23, 42, 0.85);
            color: #9ca3af;
            margin-bottom: 6px;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 11px;
            color: var(--text-sub);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: #22c55e;
            margin-right: 4px;
        }

        .status-left {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .toast {
            position: fixed;
            bottom: 16px;
            right: 16px;
            background: #111827;
            color: #e5e7eb;
            padding: 8px 12px;
            border-radius: 999px;
            font-size: 12px;
            display: none;
            align-items: center;
            gap: 6px;
            box-shadow: 0 12px 30px rgba(15, 23, 42, 0.6);
            z-index: 50;
        }

        .toast.show {
            display: inline-flex;
        }

        .toast-icon {
            font-size: 14px;
        }
    </style>
</head>
<body>
<div class="page">
    <header>
        <div>
            <div class="title">
                å›¢é˜Ÿåœ¨çº¿æ—¥æŠ¥ç³»ç»Ÿ / Team Online Daily Report System
                <span class="title-badge">Daily Report Â· å†…éƒ¨ä½¿ç”¨ / Internal Use</span>
            </div>
            <div class="subtitle">
                é€‚ç”¨äºå¼€å‘ / æµ‹è¯• / äº§å“ / UI / è¿ç»´ / ç®¡ç† çš„ç»Ÿä¸€æ—¥æŠ¥å¡«å†™é¡µé¢ Â· Unified daily report for Dev / QA / Product / UI / Ops / PM
            </div>
        </div>
    </header>

    <main>
        <div class="layout">
            <!-- å·¦ä¾§ï¼šè¡¨å• / Left: Form -->
            <section class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">âœï¸</span>
                        å¡«å†™æ—¥æŠ¥ / Fill Daily Report
                    </div>
                    <div class="card-subtitle">
                        è¯·ç”¨ 3â€“8 æ¡è¦ç‚¹æè¿°ä»Šå¤©ä¸æ˜å¤©çš„å…³é”®å·¥ä½œ Â· Use 3â€“8 bullet points for today & tomorrow
                    </div>
                </div>

                <!-- åŸºæœ¬ä¿¡æ¯ / Basic Info -->
                <div class="section">
                    <div class="section-heading">
                        <span>åŸºæœ¬ä¿¡æ¯ / Basic Information</span>
                    </div>
                    <div class="form-grid">
                        <div>
                            <label>å§“å / Name <span class="required">*</span></label>
                            <input type="text" id="name" placeholder="ä¾‹å¦‚ï¼šå¼ ä¸‰ / Example: Zhang San" />
                        </div>
                        <div>
                            <label>æ—¥æœŸ / Date <span class="required">*</span></label>
                            <input type="date" id="date" />
                        </div>
                        <div>
                            <label>è§’è‰² / Role <span class="required">*</span></label>
                            <select id="role">
                                <option value="">è¯·é€‰æ‹©è§’è‰² / Select Role</option>
                                <option value="dev">å¼€å‘ / Developer</option>
                                <option value="qa">æµ‹è¯• / QA</option>
                                <option value="pm">äº§å“ / Product Manager</option>
                                <option value="ui">è®¾è®¡ / UI / UX</option>
                                <option value="ops">è¿ç»´ / Ops</option>
                                <option value="mgr">é¡¹ç›®ç®¡ç† / PM / PMO</option>
                            </select>
                        </div>
                        <div>
                            <label>é¡¹ç›® / Project</label>
                            <input type="text" id="project" placeholder="ä¾‹å¦‚ï¼šç¬èŠ APP / LiteChat Gateway" />
                        </div>
                    </div>

                    <div class="role-hints">
                        <span>å¼€å‘ï¼šä»Šæ—¥å®Œæˆã€è¿›åº¦ã€é—®é¢˜ã€æ˜æ—¥è®¡åˆ’ / Dev: todayâ€™s work, progress, issues, tomorrow plan</span>
                        <span>æµ‹è¯•ï¼šæµ‹è¯•èŒƒå›´ã€ç”¨ä¾‹å®Œæˆã€Bug ç»Ÿè®¡ã€å›å½’è®¡åˆ’ / QA: scope, cases, bugs, regression</span>
                        <span>è¿ç»´ï¼šç›‘æ§ã€æ•…éšœå¤„ç†ã€å˜æ›´è®°å½• / Ops: monitoring, incidents, changes</span>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šå¼€å‘ / Role: Developer -->
                <div id="role-dev" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥å®Œæˆå·¥ä½œï¼ˆå¼€å‘ï¼‰ / Work Completed Today (Dev)</span>
                            <span class="section-hint">è¯·åˆ—å‡ºå·²å®Œæˆçš„å¼€å‘ / è”è°ƒ / è‡ªæµ‹å†…å®¹ Â· List completed development / integration / self-test</span>
                        </div>
                        <textarea id="dev-today" placeholder="- å®Œæˆ xxx åŠŸèƒ½å¼€å‘ / Completed feature xxx
- æ¥å£è”è°ƒï¼šç”¨æˆ·ç™»å½• + ä¼šè¯åˆ—è¡¨ / API integration: login & session list
- ä¿®å¤ç¾¤èŠç¦è¨€é€»è¾‘å¼‚å¸¸ / Fixed mute logic issue in group chat"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. ä»Šæ—¥è¿›å±• & é—®é¢˜ / Progress & Issues Today</span>
                            <span class="section-hint">ä¾‹å¦‚å—éœ€æ±‚å˜æ›´ã€æ¥å£æœªå‡†å¤‡ã€ç¯å¢ƒå¼‚å¸¸ç­‰ / e.g. requirement change, API not ready, env issues</span>
                        </div>
                        <textarea id="dev-progress" placeholder="- ç¾¤å…¬å‘ŠåŠŸèƒ½å› äº¤äº’å˜æ›´ï¼Œè¿›åº¦å»¶è¿Ÿ 0.5 å¤© / Group announcement delayed 0.5 day due to UX change
- æµ‹è¯•ç¯å¢ƒå¶å‘ 500ï¼Œå·²ä¸åç«¯æ’æŸ¥æ—¥å¿— / Sporadic 500 errors in test env, under investigation"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. æ˜æ—¥å·¥ä½œè®¡åˆ’ / Plan for Tomorrow</span>
                            <span class="section-hint">æ˜æ—¥è®¡åˆ’å¼€å‘ / é‡æ„ / ä¿®å¤å†…å®¹ Â· Planned development / refactor / fixes</span>
                        </div>
                        <textarea id="dev-tomorrow" placeholder="- å®Œæˆå¥½å‹æ¨èæ¥å£å¼€å‘ä¸è‡ªæµ‹ / Complete friend recommendation API & self-test
- è”è°ƒå•†æˆ·åå°ä¼ä¸šæƒé™æ¨¡å— / Integrate merchant admin permissions
- ä¿®å¤æµ‹è¯•åé¦ˆçš„ç™»å½•ç›¸å…³ Bug / Fix login-related bugs from QA"></textarea>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šæµ‹è¯• / Role: QA -->
                <div id="role-qa" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥æµ‹è¯•èŒƒå›´ / Todayâ€™s Testing Scope</span>
                            <span class="section-hint">è¯´æ˜æµ‹è¯•çš„åº”ç”¨ä¸æ¨¡å— Â· App & modules tested today</span>
                        </div>
                        <textarea id="qa-scope" placeholder="- ç¬èŠ APPï¼šç™»å½• / æ³¨å†Œ / ç§èŠ / ShunLiao APP: login / register / single chat
- å•†æˆ·åå°ï¼šä¼ä¸šç é…ç½® / ç”¨æˆ·ç®¡ç† / Merchant admin: enterprise code, user management"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. æµ‹è¯•å®Œæˆæƒ…å†µ / Testing Progress</span>
                            <span class="section-hint">ç”¨ä¾‹æ‰§è¡Œæ•°é‡ã€é€šè¿‡/å¤±è´¥æƒ…å†µ Â· Executed cases, pass/fail</span>
                        </div>
                        <textarea id="qa-progress" placeholder="- å…±æ‰§è¡Œç”¨ä¾‹ 32 æ¡ï¼Œé€šè¿‡ 28 æ¡ï¼Œå¤±è´¥ 4 æ¡ / 32 cases executed, 28 passed, 4 failed
- å·²å›å½’æ˜¨å¤©ä¿®å¤çš„ 5 ä¸ª Bugï¼Œå‡éªŒè¯é€šè¿‡ / 5 bugs regressed and all passed"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. Bug ç»Ÿè®¡ / Bug Summary</span>
                            <span class="section-hint">ä»Šæ—¥æ–°å‘ç° Bug æ•°é‡ + ä¸¥é‡ç¨‹åº¦ Â· New bugs & severity</span>
                        </div>
                        <textarea id="qa-bugs" placeholder="- ä»Šæ—¥æ–°å¢ Bugï¼š7 ä¸ªï¼ˆä¸¥é‡ 2 / ä¸­ç­‰ 3 / è½»å¾® 2ï¼‰ / 7 new bugs (2 critical, 3 major, 2 minor)
- æœªè§£å†³çš„å…³é”®é—®é¢˜ï¼š#IM-102 ç¾¤å…¬å‘Šå¶å‘ä¸å±•ç¤º / Key unresolved: #IM-102 group announcement missing randomly"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>4. æ˜æ—¥æµ‹è¯•è®¡åˆ’ / Plan for Tomorrow</span>
                            <span class="section-hint">ç»§ç»­æµ‹è¯•æˆ–å›å½’çš„èŒƒå›´ Â· Next test/regression scope</span>
                        </div>
                        <textarea id="qa-tomorrow" placeholder="- ç»§ç»­æ‰§è¡Œç¾¤èŠã€@æ¶ˆæ¯ã€æ¶ˆæ¯æ’¤å›ç›¸å…³æµ‹è¯• / Continue testing group chat, @mention, recall
- å›å½’ä»Šæ—¥ä¿®å¤çš„ç™»å½•é—ªé€€é—®é¢˜ / Regression for todayâ€™s login crash fix"></textarea>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šäº§å“ / Role: Product -->
                <div id="role-pm" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥äº§å“æ¨è¿›å†…å®¹ / Product Progress Today</span>
                        </div>
                        <textarea id="pm-today" placeholder="- å®Œæˆã€Œç¾¤æ¬¢è¿è¯­é…ç½®ã€PRD åˆç¨¿ / Completed PRD draft: group welcome message
- å®Œæˆã€Œå†…éƒ¨è´¦å·æ ‡è¯†ã€éœ€æ±‚è¯„å®¡ / Finished review: internal account flag"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. ä»Šæ—¥åè°ƒ / å†³ç­–äº‹é¡¹ / Coordination & Decisions</span>
                        </div>
                        <textarea id="pm-coord" placeholder="- ä¸å¼€å‘ç¡®è®¤ä¼ä¸šç  + é‚€è¯·ç å¹¶å­˜é€»è¾‘ / Confirmed enterprise code + invite code logic with Dev
- ä¸æµ‹è¯•ç¡®è®¤ç™»å½•åœºæ™¯ç”¨ä¾‹è¦†ç›–èŒƒå›´ / Aligned login scenario coverage with QA"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow</span>
                        </div>
                        <textarea id="pm-tomorrow" placeholder="- è¾“å‡ºã€Œå¤šä¼ä¸šå¤šç§Ÿæˆ·ç½‘å…³ã€éœ€æ±‚æ–‡æ¡£ / Deliver multi-tenant gateway PRD
- å®‰æ’ LiteChat ç½‘å…³ V2.1 ç‰ˆæœ¬æ’æœŸè¯„å®¡ / Schedule LiteChat Gateway V2.1 review"></textarea>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šUI / Role: UI -->
                <div id="role-ui" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥å®Œæˆè®¾è®¡ / Designs Completed Today</span>
                        </div>
                        <textarea id="ui-today" placeholder="- å®Œæˆã€Œä¸‹è½½é¡µã€æ–°ç‰ˆ UIï¼ˆWeb + iPadï¼‰ / New download page UI (Web + iPad)
- ä¼˜åŒ–èŠå¤©å®¤æ¶ˆæ¯æ°”æ³¡è§†è§‰å±‚çº§ / Optimized chat bubble visual hierarchy"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. åé¦ˆä¸ä¿®æ”¹ / Feedback & Revisions</span>
                        </div>
                        <textarea id="ui-feedback" placeholder="- æ ¹æ®äº§å“åé¦ˆå¾®è°ƒæŒ‰é’®æ–‡æ¡ˆä¸å¸ƒå±€ / Adjusted button text & layout per PM feedback
- ä¿®å¤æš—è‰²æ¨¡å¼ä¸‹å›¾æ ‡å¯¹æ¯”åº¦ä¸è¶³é—®é¢˜ / Fixed icon contrast in dark mode"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow</span>
                        </div>
                        <textarea id="ui-tomorrow" placeholder="- è¾“å‡º PC ç«¯ç¾¤ç®¡ç†é¡µé¢äº¤äº’ç¨¿ / Deliver PC group management UX
- å¯åŠ¨ LiteChat å®˜ç½‘è§£å†³æ–¹æ¡ˆæ ç›®æ”¹ç‰ˆè®¾è®¡ / Start redesign of solution section on website"></textarea>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šè¿ç»´ / Role: Ops -->
                <div id="role-ops" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥è¿ç»´å·¥ä½œ / Operations Tasks Today</span>
                        </div>
                        <textarea id="ops-today" placeholder="- è°ƒæ•´ Kafka é›†ç¾¤åˆ†åŒºä¸å‰¯æœ¬ï¼Œä¼˜åŒ–åå / Tuned Kafka partitions & replicas
- å·¡æ£€ MongoDBã€Redisã€Nginxã€OpenIM è¿›ç¨‹çŠ¶æ€ / Checked MongoDB, Redis, Nginx, OpenIM processes"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. ç›‘æ§ä¸æ•…éšœæƒ…å†µ / Monitoring & Incidents</span>
                        </div>
                        <textarea id="ops-monitor" placeholder="- ç›‘æ§åˆ°æ–°åŠ å¡èŠ‚ç‚¹ CPU å³°å€¼ 85%ï¼Œå·²æ‰©å®¹ 1 å° / SG node CPU peak 85%, scaled out 1 node
- LiteChat æ¶ˆæ¯é€šé“æ— å¼‚å¸¸ï¼Œé”™è¯¯ç‡ &lt; 0.1% / LiteChat message channel stable, error &lt; 0.1%"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow</span>
                        </div>
                        <textarea id="ops-tomorrow" placeholder="- å®Œæˆ LiteChat ç½‘å…³ TLS è¯ä¹¦è‡ªåŠ¨ç»­æœŸè„šæœ¬ / Finish TLS auto-renew script
- è”åˆå¼€å‘æ’æŸ¥å¶å‘è¿æ¥è¶…æ—¶é—®é¢˜ / Debug intermittent connection timeout with Dev"></textarea>
                    </div>
                </div>

                <!-- è§’è‰²ï¼šç®¡ç† / Role: PMO -->
                <div id="role-mgr" class="role-section" style="display:none;">
                    <div class="section">
                        <div class="section-heading">
                            <span>1. ä»Šæ—¥é¡¹ç›®è¿›åº¦æ¦‚è§ˆ / Project Progress Overview</span>
                        </div>
                        <textarea id="mgr-progress" placeholder="- LiteChat ç½‘å…³ V2.1 ç‰ˆæœ¬æ•´ä½“è¿›åº¦çº¦ 65% / LiteChat Gateway V2.1 ~65% complete
- ç¬èŠ APP iOS æå®¡ç‰ˆæœ¬å·²é€šè¿‡å†…éƒ¨è‡ªæµ‹ / ShunLiao iOS release candidate passed internal QA"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>2. é£é™©ä¸é˜»å¡ç‚¹ / Risks & Blockers</span>
                        </div>
                        <textarea id="mgr-risk" placeholder="- ä¼ä¸šç™½åå•åŠŸèƒ½äº¤äº’ä»ä¸ç¡®å®šï¼Œéœ€äº§å“å°½å¿«æ‹æ¿ / Enterprise whitelist UX not finalized, needs PM decision
- æµ‹è¯•äººåŠ›ç´§å¼ ï¼Œå›å½’å‹åŠ›è¾ƒå¤§ / QA capacity tight, heavy regression load"></textarea>
                    </div>
                    <div class="section">
                        <div class="section-heading">
                            <span>3. æ˜æ—¥æ¨è¿›é‡ç‚¹ / Key Focus for Tomorrow</span>
                        </div>
                        <textarea id="mgr-tomorrow" placeholder="- æ¨è¿› LiteChat ç½‘å…³ V2.1 ç‰ˆæœ¬è¯„å®¡ä¸å‘å¸ƒæ—¶é—´ç¡®è®¤ / Push V2.1 review & release date
- ä¸å„ç»„ç¡®è®¤å¹´ç»ˆèŠ‚ç‚¹å‰äº¤ä»˜èŒƒå›´ / Confirm delivery scope with all teams before year-end"></textarea>
                    </div>
                </div>

                <!-- æŒ‰é’® / Buttons -->
                <div class="btn-row">
                    <button type="button" class="btn-ghost" id="btn-clear">é‡ç½®è¡¨å• / Reset Form</button>
                    <button type="button" class="btn-secondary" id="btn-sample">å¡«å…¥ç¤ºä¾‹ / Fill Sample</button>
                    <button type="button" class="btn-primary" id="btn-generate">
                        ç”Ÿæˆæ—¥æŠ¥å†…å®¹ / Generate Report
                    </button>
                </div>
            </section>

            <!-- å³ä¾§ï¼šé¢„è§ˆ / Right: Preview -->
            <section class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">ğŸ“„</span>
                        æ—¥æŠ¥é¢„è§ˆ / Daily Report Preview
                    </div>
                    <div class="card-subtitle">
                        å·¦ä¾§å¡«å†™åç‚¹å‡»ã€Œç”Ÿæˆã€ï¼Œå¯ä¸€é”®å¤åˆ¶å‘é€åˆ°ç¾¤ / ç³»ç»Ÿ Â· Generate then copy to IM / system
                    </div>
                </div>

                <div class="preview-area" id="preview">
                    <div class="pill-badge">No Report Generated</div>
                    <pre>è¯·åœ¨å·¦ä¾§å¡«å†™ä¿¡æ¯åï¼Œç‚¹å‡»ã€Œç”Ÿæˆæ—¥æŠ¥å†…å®¹ã€æŒ‰é’®ã€‚
Please fill in the form on the left and click "Generate Report".</pre>
                </div>

                <div class="status-bar">
                    <div class="status-left">
                        <span class="status-dot"></span>
                        <span id="status-text">ç­‰å¾…ç”Ÿæˆæ—¥æŠ¥â€¦ / Waiting to generate reportâ€¦</span>
                    </div>
                    <div>
                        <button type="button" class="btn-secondary" id="btn-copy">
                            å¤åˆ¶æ—¥æŠ¥å†…å®¹ / Copy Report
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>

<div class="toast" id="toast">
    <span class="toast-icon">âœ…</span>
    <span id="toast-text">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ / Copied to clipboard</span>
</div>

<script>
    // è‡ªåŠ¨å¡«å……ä»Šå¤©æ—¥æœŸ / Auto-fill today's date
    (function setToday() {
        const input = document.getElementById("date");
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, "0");
        const dd = String(today.getDate()).padStart(2, "0");
        input.value = yyyy + "-" + mm + "-" + dd;
    })();

    const roleSelect = document.getElementById("role");
    const roleSections = {
        dev: document.getElementById("role-dev"),
        qa: document.getElementById("role-qa"),
        pm: document.getElementById("role-pm"),
        ui: document.getElementById("role-ui"),
        ops: document.getElementById("role-ops"),
        mgr: document.getElementById("role-mgr"),
    };

    roleSelect.addEventListener("change", () => {
        const value = roleSelect.value;
        Object.keys(roleSections).forEach((key) => {
            roleSections[key].style.display = key === value ? "block" : "none";
        });
    });

    function showToast(text) {
        const toast = document.getElementById("toast");
        const toastText = document.getElementById("toast-text");
        toastText.textContent = text;
        toast.classList.add("show");
        setTimeout(() => {
            toast.classList.remove("show");
        }, 2000);
    }

    function generateReport() {
        const name = document.getElementById("name").value.trim();
        const date = document.getElementById("date").value;
        const role = document.getElementById("role").value;
        const project = document.getElementById("project").value.trim();

        if (!name || !date || !role) {
            showToast("è¯·å…ˆå¡«å†™å§“åã€æ—¥æœŸå’Œè§’è‰² / Please fill in name, date and role first");
            return "";
        }

        const roleMap = {
            dev: "å¼€å‘ / Developer",
            qa: "æµ‹è¯• / QA",
            pm: "äº§å“ / Product Manager",
            ui: "è®¾è®¡ / UI / UX",
            ops: "è¿ç»´ / Ops",
            mgr: "é¡¹ç›®ç®¡ç† / PM / PMO",
        };

        let text = "";
        text += `ã€Šé¡¹ç›®æ¯æ—¥å·¥ä½œæŠ¥å‘Š / IM Project Daily Reportã€‹\n\n`;
        text += `ã€åŸºæœ¬ä¿¡æ¯ / Basic Infoã€‘\n`;
        text += `å§“å / Nameï¼š${name}\n`;
        text += `æ—¥æœŸ / Dateï¼š${date}\n`;
        text += `è§’è‰² / Roleï¼š${roleMap[role] || role}\n`;
        if (project) {
            text += `é¡¹ç›® / Projectï¼š${project}\n`;
        }
        text += `\n`;

        if (role === "dev") {
            const t1 = document.getElementById("dev-today").value.trim();
            const t2 = document.getElementById("dev-progress").value.trim();
            const t3 = document.getElementById("dev-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥å®Œæˆå·¥ä½œï¼ˆå¼€å‘ï¼‰ / Work Completed Today (Dev)\n${t1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€ä»Šæ—¥è¿›å±• & é—®é¢˜ / Progress & Issues Today\n${t2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€æ˜æ—¥å·¥ä½œè®¡åˆ’ / Plan for Tomorrow\n${t3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        } else if (role === "qa") {
            const s1 = document.getElementById("qa-scope").value.trim();
            const s2 = document.getElementById("qa-progress").value.trim();
            const s3 = document.getElementById("qa-bugs").value.trim();
            const s4 = document.getElementById("qa-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥æµ‹è¯•èŒƒå›´ / Todayâ€™s Testing Scope\n${s1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€æµ‹è¯•å®Œæˆæƒ…å†µ / Testing Progress\n${s2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€Bug ç»Ÿè®¡ / Bug Summary\n${s3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `å››ã€æ˜æ—¥æµ‹è¯•è®¡åˆ’ / Plan for Tomorrow\n${s4 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        } else if (role === "pm") {
            const p1 = document.getElementById("pm-today").value.trim();
            const p2 = document.getElementById("pm-coord").value.trim();
            const p3 = document.getElementById("pm-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥äº§å“æ¨è¿›å†…å®¹ / Product Progress Today\n${p1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€ä»Šæ—¥åè°ƒ / å†³ç­–äº‹é¡¹ / Coordination & Decisions\n${p2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow\n${p3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        } else if (role === "ui") {
            const u1 = document.getElementById("ui-today").value.trim();
            const u2 = document.getElementById("ui-feedback").value.trim();
            const u3 = document.getElementById("ui-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥å®Œæˆè®¾è®¡ / Designs Completed Today\n${u1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€åé¦ˆä¸ä¿®æ”¹ / Feedback & Revisions\n${u2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow\n${u3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        } else if (role === "ops") {
            const o1 = document.getElementById("ops-today").value.trim();
            const o2 = document.getElementById("ops-monitor").value.trim();
            const o3 = document.getElementById("ops-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥è¿ç»´å·¥ä½œ / Operations Tasks Today\n${o1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€ç›‘æ§ä¸æ•…éšœæƒ…å†µ / Monitoring & Incidents\n${o2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€æ˜æ—¥è®¡åˆ’ / Plan for Tomorrow\n${o3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        } else if (role === "mgr") {
            const m1 = document.getElementById("mgr-progress").value.trim();
            const m2 = document.getElementById("mgr-risk").value.trim();
            const m3 = document.getElementById("mgr-tomorrow").value.trim();
            text += `ä¸€ã€ä»Šæ—¥é¡¹ç›®è¿›åº¦æ¦‚è§ˆ / Project Progress Overview\n${m1 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `äºŒã€é£é™©ä¸é˜»å¡ç‚¹ / Risks & Blockers\n${m2 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n\n`;
            text += `ä¸‰ã€æ˜æ—¥æ¨è¿›é‡ç‚¹ / Key Focus for Tomorrow\n${m3 || "- ï¼ˆå¾…å¡«å†™ / To be filledï¼‰"}\n`;
        }

        return text;
    }

    document.getElementById("btn-generate").addEventListener("click", () => {
        const preview = document.getElementById("preview");
        const statusText = document.getElementById("status-text");
        const report = generateReport();
        if (!report) return;
        preview.innerHTML = `<div class="pill-badge">Generated Â· å·²ç”Ÿæˆ</div><pre>${report}</pre>`;
        statusText.textContent = "å·²ç”Ÿæˆæ—¥æŠ¥ï¼Œå¯ç‚¹å‡»å³ä¸‹è§’æŒ‰é’®å¤åˆ¶ã€‚ / Report generated, you can copy it now.";
    });

    document.getElementById("btn-copy").addEventListener("click", async () => {
        const preview = document.getElementById("preview");
        const pre = preview.querySelector("pre");
        if (!pre) {
            showToast("å½“å‰æ²¡æœ‰å¯å¤åˆ¶çš„æ—¥æŠ¥å†…å®¹ / No report content to copy");
            return;
        }
        const text = pre.textContent;
        try {
            await navigator.clipboard.writeText(text);
            showToast("æ—¥æŠ¥å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ / Report copied to clipboard");
        } catch (e) {
            showToast("å¤åˆ¶å¤±è´¥ï¼Œå¯æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶ / Copy failed, please copy manually");
        }
    });

    document.getElementById("btn-clear").addEventListener("click", () => {
        if (!confirm("ç¡®è®¤é‡ç½®è¡¨å•å†…å®¹ï¼Ÿ / Confirm reset form?")) return;
        document.getElementById("name").value = "";
        document.getElementById("project").value = "";
        // é‡ç½®è§’è‰²å’Œå„åŒºåŸŸå†…å®¹ / Reset role and sections
        roleSelect.value = "";
        Object.keys(roleSections).forEach((key) => {
            roleSections[key].style.display = "none";
        });

        const idsToClear = [
            "dev-today","dev-progress","dev-tomorrow",
            "qa-scope","qa-progress","qa-bugs","qa-tomorrow",
            "pm-today","pm-coord","pm-tomorrow",
            "ui-today","ui-feedback","ui-tomorrow",
            "ops-today","ops-monitor","ops-tomorrow",
            "mgr-progress","mgr-risk","mgr-tomorrow"
        ];
        idsToClear.forEach(id => {
            const el = document.getElementById(id);
            if (el) el.value = "";
        });

        const preview = document.getElementById("preview");
        const statusText = document.getElementById("status-text");
        preview.innerHTML = `<div class="pill-badge">No Report Generated</div><pre>è¯·åœ¨å·¦ä¾§å¡«å†™ä¿¡æ¯åï¼Œç‚¹å‡»ã€Œç”Ÿæˆæ—¥æŠ¥å†…å®¹ã€æŒ‰é’®ã€‚
Please fill in the form on the left and click "Generate Report".</pre>`;
        statusText.textContent = "ç­‰å¾…ç”Ÿæˆæ—¥æŠ¥â€¦ / Waiting to generate reportâ€¦";
        showToast("è¡¨å•å·²é‡ç½® / Form has been reset");
    });

    document.getElementById("btn-sample").addEventListener("click", () => {
        // é»˜è®¤å¡«å……ä¸€ä¸ªå¼€å‘è§’è‰²ç¤ºä¾‹ / Fill sample for Dev
        document.getElementById("name").value = "å¼ ä¸‰ / Zhang San";
        document.getElementById("project").value = "LiteChat ç½‘å…³ V2.1 / LiteChat Gateway V2.1";
        roleSelect.value = "dev";
        roleSelect.dispatchEvent(new Event("change"));

        document.getElementById("dev-today").value =
`- å®Œæˆç™»å½•æ¨¡å— Token ç»­æœŸé€»è¾‘å¼€å‘ä¸è‡ªæµ‹ / Implemented and self-tested token renewal logic
- è°ƒæ•´ç½‘å…³å¤šä¼ä¸šè·¯ç”±é…ç½®ï¼Œæ”¯æŒä¼ä¸šç²’åº¦éš”ç¦» / Adjusted multi-tenant routing for enterprise-level isolation
- ä¿®å¤ LiteChat PC ç¾¤èŠç¦è¨€é€»è¾‘å¼‚å¸¸é—®é¢˜ / Fixed mute logic issue in LiteChat PC group chat`;

        document.getElementById("dev-progress").value =
`- ç½‘å…³ç°åº¦å‘å¸ƒè„šæœ¬ä»åœ¨è°ƒè¯•é˜¶æ®µï¼Œé¢„è®¡è¿˜éœ€ 0.5 å¤© / Gateway canary release script still under tuning (~0.5 day)
- ç­‰å¾…æµ‹è¯•è¡¥å……å¤šç»ˆç«¯ç™»å½•åœºæ™¯ç”¨ä¾‹ / Waiting for QA to add multi-device login cases`;

        document.getElementById("dev-tomorrow").value =
`- å®Œæˆç½‘å…³å‘å¸ƒè„šæœ¬ä¼˜åŒ–ä¸è”è°ƒ / Finish gateway release script & integration
- é…åˆæµ‹è¯•ä¿®å¤ç™»å½• / ç¾¤èŠç›¸å…³ Bug / Work with QA on login & group chat bug fixes
- é¢„ç ”ä¼ä¸š IP ç™½åå•ä¸å®‰å…¨ç»„é…ç½®å®ç°æ–¹æ¡ˆ / Research enterprise IP whitelist & security group design`;

        showToast("å·²å¡«å…¥å¼€å‘ç¤ºä¾‹å†…å®¹ï¼Œå¯ç›´æ¥ä¿®æ”¹åä½¿ç”¨ / Sample Dev data filled, you can edit and use");
    });
</script>
</body>
</html>
